# 画面設定書

## 1. ホーム画面（月別表示）

### レイアウト

```
┌──────────────────────────────────────┐
│ AppBar: クレカ使用額トラッカー        │
│ [←] [2025年10月 ▼] [→]              │
├──────────────────────────────────────┤
│                                      │
│ ┌──────────────────────────────────┐ │
│ │  2025年10月の合計                │ │
│ │           12,500円               │ │
│ └──────────────────────────────────┘ │
│                                      │
│ ┌─────────────────────────────┐     │
│ │ [💳] 楽天カード            →  │     │
│ │      Visa                   │     │
│ │      2025年10月: 5,000円   │     │
│ └─────────────────────────────┘     │
│                                      │
│ ┌─────────────────────────────┐     │
│ │ [💳] PayPayカード          →  │     │
│ │      Mastercard             │     │
│ │      2025年10月: 7,500円   │     │
│ └─────────────────────────────┘     │
│                                      │
└──────────────────────────────────────┘
              [+ カード追加]
```

### 機能説明

**月移動**
- 左矢印「←」：前の月に移動
- 右矢印「→」：次の月に移動
- 中央の年月タップ：年度をプルダウンで選択

**表示内容**
- 選択月の全体合計（グラデーションカード）
- カード別の月間使用額
- 金額はカンマ区切りで表示

**カード追加**
- FloatingActionButton（+）でカード追加ダイアログ

---

## 2. カード詳細画面

### レイアウト

```
┌──────────────────────────────────────┐
│ AppBar: 楽天カード  [✏️] [🗑️]       │
├──────────────────────────────────────┤
│                                      │
│ ┌──────────────────────────────────┐ │
│ │ 楽天カード                💳     │ │
│ │ Visa                            │ │
│ │──────────────────────────────────│ │
│ │ 2025年10月の使用額               │ │
│ │ 合計使用額                       │ │
│ │           5,000円              │ │
│ └──────────────────────────────────┘ │
│                                      │
│ 支出一覧                              │
│ ┌──────────────────────────────┐   │
│ │ [💳] 2025年10月             │   │
│ │      5,000円  [🗑️]         │   │
│ └──────────────────────────────┘   │
│                                      │
│ ┌──────────────────────────────┐   │
│ │ [💳] 2025年9月              │   │
│ │      3,500円  [🗑️]         │   │
│ └──────────────────────────────┘   │
│                                      │
└──────────────────────────────────────┘
             [+ 支出追加]
```

### 機能説明

**AppBar**
- タイトル：カード名
- 編集アイコン：カード情報を編集
- 削除アイコン：カードと全支出を削除

**カード情報**
- カード名と種類
- 最新月の合計使用額

**支出一覧**
- 年月と金額を表示
- 各支出に削除ボタン
- 長押しでも削除可能

**支出追加**
- FloatingActionButton（+）で支出追加ダイアログ

---

## 3. 支出追加ダイアログ

### レイアウト

```
┌──────────────────────────────┐
│  支出追加                     │
├──────────────────────────────┤
│                              │
│ 金額                          │
│ ┌──────────────────────────┐ │
│ │ 3500                     │ │
│ └──────────────────────────┘ │
│                              │
│ 年月                          │
│ ┌────────┐  ┌────────┐     │
│ │ 2025年 │  │ 10月   │     │
│ └────────┘  └────────┘     │
│                              │
├──────────────────────────────┤
│       [キャンセル] [追加]     │
└──────────────────────────────┘
```

### 入力項目

- **金額**：数値入力フィールド
- **年**：ドロップダウン（現在年-5年〜現在年+5年）
- **月**：ドロップダウン（1〜12月）

---

## 4. カード追加ダイアログ

### レイアウト

```
┌──────────────────────────────┐
│  カード追加                   │
├──────────────────────────────┤
│                              │
│ カード名                      │
│ ┌──────────────────────────┐ │
│ │ 楽天カード ▼             │ │
│ └──────────────────────────┘ │
│  * その他の場合入力フィールド  │
│                              │
│ カード種類                    │
│ ┌──────────────────────────┐ │
│ │ Visa ▼                  │ │
│ └──────────────────────────┘ │
│  * その他の場合入力フィールド  │
│                              │
│ 色を選択                      │
│ 🟥 🟦 🟩 🟨 🟪 🟣        │
│                              │
├──────────────────────────────┤
│       [キャンセル] [追加]     │
└──────────────────────────────┘
```

### 選択肢

**カード名**
- 楽天カード
- PayPayカード
- 三井住友カード
- JALカード
- UCSカード
- その他（自由入力）

**カード種類**
- Visa
- Mastercard
- American Express
- JCB
- Diners Club
- Discover
- その他（自由入力）

---

## 5. 設定画面

### レイアウト

```
┌──────────────────────────────┐
│ AppBar: 設定                  │
├──────────────────────────────┤
│                              │
│ ℹ️ クレカ使用額トラッカー    │
│    バージョン 1.0.0          │
│                              │
├──────────────────────────────┤
│ 📤 データをエクスポート       │
│    JSON形式でダウンロード     │
│                              │
│ 📥 データをインポート         │
│    JSON形式からインポート     │
│                              │
├──────────────────────────────┤
│ 🗑️ 全データを削除           │
│    全てのデータを削除します   │
│                              │
└──────────────────────────────┘
```

### 機能

- **エクスポート**：データをJSONとしてコピー
- **インポート**：JSONを貼り付けてインポート
- **全削除**：全てのデータを削除（確認ダイアログ付き）

---

## Widget構成のポイント

1. **ホーム画面**
   - `Column` + `Expanded`でレイアウト
   - 月間合計カード + カード一覧
   - AppBarに月移動UI

2. **カード詳細画面**
   - `Column` + `Expanded`でレイアウト
   - カード情報カード + 支出一覧
   - AppBarに編集・削除ボタン

3. **ダイアログ**
   - `AlertDialog`で入力フォーム
   - `StatefulBuilder`で状態管理
   - プルダウンメニューと入力フィールド

4. **ナビゲーション**
   - `BottomNavigationBar`で画面切り替え
   - `Navigator.push`で画面遷移
